<div class="dashboard-header">
  <h2>Monitoring Kelas Aktif</h2>
</div>

@if (loading) {
  <div class="loading">
    <div class="spinner"></div> Memuat data sesi kelas...
  </div>
} @else {
  <div class="courses-grid">
    @for (session of classSessions; track session.id) {
      <article class="course-card">
        <header class="course-header">
          <h3 class="course-name">{{ session.course.name }}</h3>
          <div class="course-time">{{ session.timeRange }}</div>
        </header>

        <div class="course-body">
          <div class="course-info">
            <div class="info-item">
              <span class="info-icon" aria-hidden="true">â±ï¸</span>
              <span>{{ session.duration }}</span>
            </div>
            <div class="info-item">
              <span class="info-icon" aria-hidden="true">ğŸ“</span>
              <span>{{ session.place }}</span>
            </div>
            <div class="info-item">
              <span class="info-icon" aria-hidden="true">ğŸ‘¨â€ğŸ«</span>
              <span>{{ session.lecturer }}</span>
            </div>
          </div>

          <button
            type="button"
            class="attendance-btn"
            (click)="navigateToDetail(session.id)">
            Lihat Kehadiran
          </button>
        </div>
      </article>
    }

    @if (classSessions.length === 0) {
      <div class="no-data">
        Tidak ada sesi kelas yang aktif saat ini.
      </div>
    }
  </div>
}

<div class="toast-popup"
     [class.show]="toastState.show"
     [class.error]="toastState.type === 'error'">
  {{ toastState.message }}
</div>
