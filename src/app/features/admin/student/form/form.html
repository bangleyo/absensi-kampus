<div class="dashboard-header">
  <h2>{{ mode === 'create' ? 'Tambah Mahasiswa' : 'Edit Mahasiswa' }}</h2>
</div>


<section class="profile-section" aria-labelledby="form-title">
  <form
    #nameCodeForm="ngForm"
    class="name-code-form"
    (ngSubmit)="onNameCodeSubmit(nameCodeForm)"
    novalidate>

    <div class="form-group">
      <label for="nim" class="form-label">
        NIM<span class="required">*</span>
      </label>

      <div class="input-group">
        <input
          id="nim"
          type="text"
          readonly
          class="form-input"
          name="nim"
          [(ngModel)]="formData.nim"
          required
          minlength="3"
          #nim="ngModel"
          [class.error]="nim.invalid && (nim.dirty || nameCodeForm.submitted)"
          aria-describedby="nim-error">
      </div>

      <div
        id="code-error"
        class="error-message"
        role="alert"
        *ngIf="nim.invalid && (nim.dirty || nameCodeForm.submitted)">
        <span *ngIf="nim.errors?.['required']">NIM wajib diisi</span>
        <span *ngIf="nim.errors?.['minlength']">Minimal 8 karakter</span>
      </div>
    </div>

    <div class="form-group">
      <label for="name" class="form-label">
        Nama<span class="required">*</span>
      </label>

      <div class="input-group">
        <input
          id="name"
          type="text"
          class="form-input"
          name="name"
          [(ngModel)]="formData.name"
          required
          minlength="4"
          #name="ngModel"
          [class.error]="name.invalid && (name.dirty || nameCodeForm.submitted)"
          aria-describedby="name-error">
      </div>

      <div
        id="name-error"
        class="error-message"
        role="alert"
        *ngIf="name.invalid && (name.dirty || nameCodeForm.submitted)">
        <span *ngIf="name.errors?.['required']">Nama wajib diisi</span>
        <span *ngIf="name.errors?.['minlength']">Minimal 4 karakter</span>
      </div>
    </div>

    <!-- 3. Form Actions -->
    <div class="form-actions">
      <button
        type="button"
        class="btn btn-secondary"
        (click)="mode === 'create' ? resetForm() : back()">
        {{ mode === 'create' ? 'Bersihkan' : 'Batal' }}
      </button>
      <button type="submit" class="btn btn-primary" [disabled]="nameCodeForm.invalid">
        {{ mode === 'create' ? 'Tambah Mahasiswa' : 'Update Mahasiswa' }}
      </button>
    </div>
  </form>
</section>
